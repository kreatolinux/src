.\" Automatically generated by Pandoc 2.9.2.1
.\"
.TH "kpkg_run" "8" "" "" ""
.hy
.SH NAME
.PP
kpkg runfile - main package format of kpkg
.SH DESCRIPTION
.PP
kpkg runfiles are the main package format of kpkg.
It is a basic shell script with some variables so kpkg can build the
package.
.SH RUNFILE STRUCTURE
.PP
Runfiles are just named \[lq]run\[rq] inside the package directory.
It is written in POSIX sh and doesn\[cq]t support any other languages.
In addition to a runfile you also need a deps file which you can add by
just making a file named \[lq]deps\[rq] in the package repository and
putting deps on each line.
.PP
An example runfile structure;
.IP
.nf
\f[C]
NAME=\[dq]test\[dq]
VERSION=\[dq]0.0.1\[dq]
RELEASE=\[dq]1\[dq]
SOURCES=\[dq]https://test.file/source/testfile.tar.gz;git::https://github.com/kreatolinux/kpkg3::543ee30eda806029fa9ea16a1f9767eda7cab4d1\[dq]
SHA256SUM=\[dq]e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855  testfile.tar.gz\[dq]
DESCRIPTION=\[dq]Test package\[dq]

build() {
    tar -xvf testfile.tar.gz
    echo \[dq]Insert additional installation instructions here\[dq]
}

install() {
    make install
}
\f[R]
.fi
.PP
Now lets break it down.
.SS VARIABLES
.IP \[bu] 2
NAME: Name of your package.
Will show this name on the info command.
.IP \[bu] 2
VERSION: Version of your package.
It will be on the info command and updating it will result in kpkg
upgrading the package.
.IP \[bu] 2
RELEASE: Release of your package.
It will also be on the info command and updating it will result in kpkg
upgrading the package.
.IP \[bu] 2
SOURCES: Source URL\[cq]s of your package.
Can be seperated by `;' like \f[C]test.url;testurl2\f[R].
Also supports git URL\[cq]s as shown by the second source.
.IP \[bu] 2
SHA256SUM: sha256sum output of the sources.
Should align with sources.
Can also be seperated by `;'.
Doesnt support git URL\[cq]s yet.
.IP \[bu] 2
DESCRIPTION: Description of the package.
It will be on the info command.
.SS FUNCTIONS
.IP \[bu] 2
build: The main function.
.IP \[bu] 2
install: The install function.
.SS OPTIONAL FUNCTIONS AND VARIABLES
.IP \[bu] 2
EPOCH: Only use this when the versioning logic fail for the package.
.IP \[bu] 2
prepare(): Files downloaded from SOURCES are extracted by default.
Use prepare() to prevent this and have custom prepare procedure.
.SH AUTHOR
.PP
Written by Kreato.
.SH COPYRIGHT
.PP
kpkg is free software: you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the Free
Software Foundation, either version 3 of the License, or (at your
option) any later version.
.PP
kpkg is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or
FITNESS FOR A PARTICULAR PURPOSE.
See the GNU General Public License for more details.
.PP
You should have received a copy of the GNU General Public License along
with kpkg.
If not, see <https://www.gnu.org/licenses/>.
